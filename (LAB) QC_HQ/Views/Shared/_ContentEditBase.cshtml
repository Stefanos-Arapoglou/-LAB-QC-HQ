@model _LAB__QC_HQ.Models.ViewModels.EditContentViewModel

<h4>General Content Information</h4>

<div class="mb-3">
    <label asp-for="Title"></label>
    <input asp-for="Title" class="form-control" />
</div>

<hr />

<h5>Departments & Clearance</h5>

<div id="departments-container">
    @for (int i = 0; i < Model.Departments.Count; i++)
    {
        <div class="department-entry d-flex mb-2">
            <select asp-for="Departments[i].DepartmentId" class="form-select w-auto me-2" style="flex: 2;">
                <option value="">-- Select Department --</option>
                @foreach (var dep in ViewBag.Departments)
                {
                    <option value="@dep.DepartmentId">@dep.Name</option>
                }
            </select>

            <select asp-for="Departments[i].ClearanceLevelRequired"
                    class="form-select w-auto" style="flex: 1;">
                <option value="0">None</option>
                <option value="1">Viewer</option>
                <option value="2">Contributor</option>
                <option value="3">Manager</option>
            </select>
        </div>
    }
</div>

<button type="button"
        class="btn btn-secondary"
        id="add-department">
    Add Department
</button>
<hr />
